# Безопасность проекта

## Хранение токенов и секретных данных

### ✅ Безопасный способ (текущий)

Токен бота и другие секретные данные хранятся в файле `.env`, который:

1. **Исключен из Git** - добавлен в `.gitignore`
2. **Загружается через переменные окружения** - используется библиотека `python-dotenv`
3. **Имеет проверку существования** - бот не запустится без токена

### ❌ Небезопасные способы (избегайте)

- ✗ Хранение токенов в коде напрямую
- ✗ Сохранение токенов в файлах без .gitignore
- ✗ Передача токенов через аргументы командной строки
- ✗ Сохранение токенов в публичных репозиториях

## Настройка

### Первичная настройка

1. Скопируйте файл примера:
   ```bash
   cp env.example .env
   ```

2. Отредактируйте `.env` файл:
   ```env
   BOT_TOKEN=ваш_реальный_токен_бота
   ```

3. Убедитесь, что `.env` в `.gitignore`:
   ```bash
   grep ".env" .gitignore
   ```

### Альтернативные способы

#### Переменные окружения системы

Вместо `.env` файла можно использовать переменные окружения:

```bash
export BOT_TOKEN="ваш_токен"
python3 main.py
```

#### Docker

При использовании Docker:

```bash
docker run -e BOT_TOKEN="ваш_токен" your-bot-image
```

## Проверка безопасности

### Перед коммитом

Убедитесь, что секретные данные не попадут в Git:

```bash
git status
git diff --cached
```

### Периодические проверки

1. **Смена токенов** - обновляйте токены бота периодически
2. **Аудит доступа** - проверяйте, кто имеет доступ к серверу
3. **Мониторинг логов** - следите за подозрительной активностью

## Что делать при компрометации

1. **Немедленно** отзовите скомпрометированный токен в BotFather
2. Создайте новый токен
3. Обновите `.env` файл
4. Перезапустите бота
5. Проверьте логи на подозрительную активность

## Контрольный список безопасности

- [ ] `.env` файл добавлен в `.gitignore`
- [ ] Токен не содержится в коде напрямую
- [ ] Старые файлы с токенами (`cred.txt`) удалены
- [ ] Права доступа к `.env` ограничены (chmod 600)
- [ ] Регулярное обновление зависимостей
- [ ] Мониторинг безопасности настроен
